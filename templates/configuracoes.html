{% extends "layout.html" %}

{% block title %}Configurações de Prazos{% endblock %}

{% block content %}
<div class="container mt-4">
    <h2 class="mb-3 text-center">Configurar Prazos do Sistema</h2>
    <p class="text-muted text-center mb-4">
        Defina os prazos para as regras de negócio do sistema de chamados.
    </p>

    {# MUDANÇA AQUI: Adicionado col-md-8 offset-md-2 para centralizar e estreitar #}
    <div class="row justify-content-center">
        <div class="col-md-8">
            <div class="card shadow-sm">
                <div class="card-body">
                    <form action="{{ url_for('gerenciar_configuracoes') }}" method="POST">
                        <h5 class="card-title">Cores dos Chamados em Aberto</h5>
                        <hr>
                        <div class="mb-3">
                            <label for="prazo_amarelo" class="form-label fw-bold">
                                <i class="fas fa-circle text-warning"></i> Amarelo (Atenção)
                            </label>
                            <div class="input-group">
                                <span class="input-group-text">Chamado aberto há mais de</span>
                                <input type="number" class="form-control" id="prazo_amarelo" name="prazo_amarelo"
                                       value="{{ configs.get('prazo_amarelo', 5) }}" min="1" required>
                                <span class="input-group-text">dias</span>
                            </div>
                            <div class="form-text">
                                Chamados com idade maior que este valor (e menor que o vermelho) ficarão amarelos.
                            </div>
                        </div>

                        <div class="mb-4">
                            <label for="prazo_vermelho" class="form-label fw-bold">
                                <i class="fas fa-circle text-danger"></i> Vermelho (Urgente)
                            </label>
                            <div class="input-group">
                                <span class="input-group-text">Chamado aberto há mais de</span>
                                <input type="number" class="form-control" id="prazo_vermelho" name="prazo_vermelho"
                                       value="{{ configs.get('prazo_vermelho', 10) }}" min="1" required>
                                <span class="input-group-text">dias</span>
                            </div>
                             <div class="form-text">
                                Chamados com idade maior que este valor ficarão vermelhos.
                            </div>
                        </div>

                        <h5 class="card-title mt-4">Reabertura de Chamados</h5>
                        <hr>

                        <div class="mb-4">
                            <label for="prazo_reabrir" class="form-label fw-bold">
                                <i class="fas fa-history text-info"></i> Prazo para Reabrir Chamado
                            </label>
                            <div class="input-group">
                                <span class="input-group-text">Permitir reabertura por</span>
                                <input type="number" class="form-control" id="prazo_reabrir" name="prazo_reabrir"
                                       value="{{ configs.get('prazo_reabrir', 3) }}" min="1" required>
                                <span class="input-group-text">dias após ser resolvido</span>
                            </div>
                             <div class="form-text">
                                Após este prazo, o chamado mudará para "Encerrado" e não poderá mais ser reaberto.
                            </div>
                        </div>
                        <button type="submit" class="btn btn-primary">
                            <i class="fas fa-save me-2"></i>Salvar Configurações
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </div> {# Fim da row #}
</div>
{% endblock %}